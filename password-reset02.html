<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 사파리폰트적용 (프리텐다드) -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/variable/pretendardvariable.css" />
    
    <title>Acts29비전빌리지 / 비밀번호 찾기</title>

    <!--Jqurey CDN-->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>

    <!-- 공통 css -->
    <link rel="stylesheet" href="css/sub-header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/common.css">

    <!-- 해당html css -->
    <link rel="stylesheet" href="css/pw02.css">

</head>
<body>
    <section id="home">
        <header id="header" class="header">
            <div class="inner">
                <div class="content">
                    <h1 class="logo">
                        <img src="img/offcanvas-logo.png" alt="Acts29비전빌리지 / Acts29 Visionvillage" class="logo-img">
                        <span class="blind">Acts29비전빌리지 / Acts29 Visionvillage</span>
                    </h1>

                    <div class="pc_display">
                        <nav id="nav" class="nav">
                            <ul class="gnb">
                                <li class="gnb-item">
                                    <a href="#">홈</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">공지</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">소개</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">채플</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">예배</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">예약</a>
                                </li>
                                <li class="gnb-item gnb-training">
                                    <a href="#">교육</a>

                                    <ul class="gnb-sub">
                                        <li class="gnb-sub-item">
                                            <a href="#">TP</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">OSUM</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">H2H</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">H2K</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">H2R</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">도서관</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">문의</a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <div class="pc_display">
                        <div class="login-link">
                            <a href="#" class="login">로그인</a>
                            <div class="line"></div>
                            <a href="#" class="join">회원가입</a>
                        </div>
                    </div>

                    <div class="mobile_display">
                        <button type="button" class="offcanvas-open">
                            <span></span>
                            <span></span>
                            <span></span>
                        </button>

                        <div class="offcanvas">
                            <div class="offcanvas-body">
                                <nav id="nav" class="nav-mobile">
                                    <ul class="gnb-mobile">
                                        <li class="gnb-item">
                                            <a href="#">홈</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">공지</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">소개</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">채플</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">예배</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">예약</a>
                                        </li>
                                        <li class="gnb-item gnb-training">
                                            <a href="#">
                                                교육
                                                <div class="drop-arrow">
                                                    <span class="drop-left"></span>
                                                    <span class="drop-right"></span>
                                                </div>
                                            </a>
        
                                            <ul class="gnb-sub">
                                                <li class="gnb-sub-item">
                                                    <a href="#">TP</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">OSUM</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">H2H</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">H2K</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">H2R</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">도서관</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">문의</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main id="main" class="contact">
            <div class="inner">
                <div class="pw_wrap">
                    <h3>비밀번호 찾기</h3>
                    <form id="password-reset-form" class="bg">
                        <div class="input_wrap">
                            <h4>비밀번호를 변경해 주세요. <span class="red">특수문자를 포함하여 8자리 이상<span class="br"></span> 비밀번호를 새로 만들어 주세요.</span></h4>
                            <fieldset class="input_container">
                                <input type="password" id="password" name="password" required placeholder="새 비밀번호 (특수문자를 포함한 8자리 이상)">
                                <input type="password" id="password_confirm" name="password_confirm" required placeholder="새 비밀번호와 동일하게 입력해주세요" class="mt-10">
                            </fieldset>
                        </div>
                        <div class="btn_wrap">
                            <button type="submit" id="nextBtn" class="nextBtn" disabled>다음</button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
        <footer id="footer" class="footer">
            <div class="inner">
                <div class="content">
                    <div class="footer-logo"><img src="img/footer-logo.png" alt="Acts29비전빌리지"></div>

                    <div class="footer-info01">
                        <div class="partner-site">
                            <span class="text">협력사이트 :</span>

                            <div class="site site01">
                                <a href="https://www.onnuri.org/" target="_blank">온누리교회</a>
                            </div>
                            <div class="site site02">
                                <a href="https://www.cgntv.net/" target="_blank">CGNTV</a>
                            </div>
                            <div class="site site03">
                                <a href="https://www.duranno.com/" target="_blank">두란노해외선교회</a>
                            </div>
                            <div class="site site04">
                                <a href="https://www.2000mission.org/" target="_blank">온누리2000선</a>
                            </div>
                        </div><!-- //partner-site -->

                        <div class="support-links">
                            <div class="link">
                                <a href="#">자주하는 질문</a>
                            </div>
                            <div class="link">
                                <a href="#">사이트맵</a>
                            </div>
                            <div class="link">
                                <a href="#">이용약관</a>
                            </div>
                            <div class="link">
                                <a href="#">아동 및 성인 보호 정책</a>
                            </div>
                            <div class="link">
                                <a href="#">개인정보처리방침</a>
                            </div>
                        </div><!-- //support-links -->
                    </div><!-- //footer-info01 -->

                    <div class="line"></div>

                    <div class="footer-info02">
                        <div class="company-info">
                            <div class="info info01"><span>TEL</span>031-331-8100</div>
                            <div class="info info01"><span>FAX</span>031-331-8189</div>
                            <div class="info"><span>E-MAIL</span>school@visionvillage.org</div>
                            <div class="info">경기도 용인시 처인구 양지면 추계로 62</div>
                        </div>

                        <div class="copyright">Copyright © 2024 Acts29비전빌리지/Acts29Visionvillage Allright reserved</div>
                    </div>
                </div>
            </div>
        </footer>
    </section>

    <script src="js/script.js"></script>
 
    <script>
        // 비밀번호와 비밀번호 확인 input 요소
        const passwordInput = document.getElementById('password');
        const passwordConfirmInput = document.getElementById('password_confirm');
        const nextButton = document.getElementById('nextBtn');
    
        // 비밀번호 조건 검사 함수 (특수문자 포함, 8자리 이상)
        function validatePassword(password) {
            const passwordRegex = /^(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/;
            return passwordRegex.test(password);
        }
    
        // 비밀번호가 일치하고 조건을 만족하는지 확인하는 함수
        function checkPasswordMatch() {
            // 비밀번호 조건을 만족하는지 확인
            if (validatePassword(passwordInput.value) && passwordInput.value === passwordConfirmInput.value) {
                nextButton.disabled = false;  // 조건 만족하면 버튼 활성화
            } else {
                nextButton.disabled = true;   // 조건 만족하지 않으면 버튼 비활성화
            }
        }
    
        // 입력이 바뀔 때마다 checkPasswordMatch 함수 실행
        passwordInput.addEventListener('input', checkPasswordMatch);
        passwordConfirmInput.addEventListener('input', checkPasswordMatch);
    
        // 버튼 클릭 시 페이지 이동
        nextButton.addEventListener('click', function(event) {
            event.preventDefault();  // 기본 폼 제출 방지
    
            // 비밀번호 조건 검증
            if (!validatePassword(passwordInput.value)) {
                alert("비밀번호 형식에 어긋납니다. 특수문자를 포함한 8자리 이상으로 입력해주세요.");
                return;  // 조건을 만족하지 않으면 더 이상 진행하지 않음
            }
    
            // 두 비밀번호가 일치하는지 확인
            if (passwordInput.value !== passwordConfirmInput.value) {
                alert("비밀번호가 일치하지 않습니다.");
                return;  // 조건을 만족하지 않으면 더 이상 진행하지 않음
            }
    
            // 모든 조건을 만족하면 페이지 이동
            window.location.href = 'https://puritechlab1155.github.io/onnuri-front/password-reset03.html';  // 새 페이지로 이동
        });
    </script>
</body>
</html>