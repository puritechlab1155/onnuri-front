<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 사파리폰트적용 (프리텐다드) -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/variable/pretendardvariable.css" />
    
    <title>Acts29비전빌리지 / Acts29 Visionvillage_About Us</title>

    <!-- 공통css -->
    <link rel="stylesheet" href="css/sub-header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/common.css">

    <!-- 해당html 연결css -->
    <link rel="stylesheet" href="css/register-complete.css">

</head>
<body>
    <!-- <section id="home"> 안에 header,main, footer/ footer여백 유지할때는 헤더에common.css 링크연결(class명 inner)) -->
    <section id="home">
        <header id="header" class="header">
            <div class="inner">
                <div class="content">
                    <h1 class="logo">
                        <img src="img/offcanvas-logo.png" alt="Acts29비전빌리지 / Acts29 Visionvillage" class="logo-img">
                        <span class="blind">Acts29비전빌리지 / Acts29 Visionvillage</span>
                    </h1>

                    <div class="pc_display">
                        <nav id="nav" class="nav">
                            <ul class="gnb">
                                <li class="gnb-item">
                                    <a href="#">홈</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">공지</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">소개</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">채플</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">예배</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">예약</a>
                                </li>
                                <li class="gnb-item gnb-training">
                                    <a href="#">교육</a>

                                    <ul class="gnb-sub">
                                        <li class="gnb-sub-item">
                                            <a href="#">TP</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">OSUM</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">H2H</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">H2K</a>
                                        </li>
                                        <li class="gnb-sub-item">
                                            <a href="#">H2R</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">도서관</a>
                                </li>
                                <li class="gnb-item">
                                    <a href="#">문의</a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <div class="pc_display">
                        <div class="login-link">
                            <a href="#" class="login">로그인</a>
                            <div class="line"></div>
                            <a href="#" class="join">회원가입</a>
                        </div>
                    </div>

                    <div class="mobile_display">
                        <button type="button" class="offcanvas-open">
                            <span></span>
                            <span></span>
                            <span></span>
                        </button>

                        <div class="offcanvas">
                            <div class="offcanvas-body">
                                <nav id="nav" class="nav-mobile">
                                    <ul class="gnb-mobile">
                                        <li class="gnb-item">
                                            <a href="#">홈</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">공지</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">소개</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">채플</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">예배</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">예약</a>
                                        </li>
                                        <li class="gnb-item gnb-training">
                                            <a href="#">
                                                교육
                                                <div class="drop-arrow">
                                                    <span class="drop-left"></span>
                                                    <span class="drop-right"></span>
                                                </div>
                                            </a>
        
                                            <ul class="gnb-sub">
                                                <li class="gnb-sub-item">
                                                    <a href="#">TP</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">OSUM</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">H2H</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">H2K</a>
                                                </li>
                                                <li class="gnb-sub-item">
                                                    <a href="#">H2R</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">도서관</a>
                                        </li>
                                        <li class="gnb-item">
                                            <a href="#">문의</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- ?? main id="main" 혹시 몰라서 유지 ?? -->
        <main id="main" class="register mt-120">
            <div class="register-containner">
                <h2>회원가입</h2>
                <div class="tabs">
                    <ul class="tab-titles">
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
        
                    <div class="tab-content">
                        <!-- 세 번째 탭 -->
                        <div class="tab-pane t-c">
                            <p>가입완료</p>
                            <h3 class="mt-25">가입완료되었습니다!</h3>
                            <img src="img/home/check-circle.png" alt="체크이미지">
                            <p>홍길동님의 회원가입이 완료되었습니다.<br> 감사합니다.</p>
                            <button id="next-btn-third" class="r-btn w-180 mt-50 mb-150" onclick="location.href='https://puritechlab1155.github.io/onnuri-front/login.html';">로그인</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer id="footer" class="footer">
            <div class="inner">
                <div class="content">
                    <div class="footer-logo"><img src="img/footer-logo.png" alt="Acts29비전빌리지"></div>

                    <div class="footer-info01">
                        <div class="partner-site">
                            <span class="text">협력사이트 :</span>

                            <div class="site site01">
                                <a href="https://www.onnuri.org/" target="_blank">온누리교회</a>
                            </div>
                            <div class="site site02">
                                <a href="https://www.cgntv.net/" target="_blank">CGNTV</a>
                            </div>
                            <div class="site site03">
                                <a href="https://www.duranno.com/" target="_blank">두란노해외선교회</a>
                            </div>
                            <div class="site site04">
                                <a href="https://www.2000mission.org/" target="_blank">온누리2000선</a>
                            </div>
                        </div><!-- //partner-site -->

                        <div class="support-links">
                            <div class="link">
                                <a href="#">자주하는 질문</a>
                            </div>
                            <div class="link">
                                <a href="#">사이트맵</a>
                            </div>
                            <div class="link">
                                <a href="#">이용약관</a>
                            </div>
                            <div class="link">
                                <a href="#">아동 및 성인 보호 정책</a>
                            </div>
                            <div class="link">
                                <a href="#">개인정보처리방침</a>
                            </div>
                        </div><!-- //support-links -->
                    </div><!-- //footer-info01 -->

                    <div class="line"></div>

                    <div class="footer-info02">
                        <div class="company-info">
                            <div class="info info01"><span>TEL</span>031-331-8100</div>
                            <div class="info info01"><span>FAX</span>031-331-8189</div>
                            <div class="info"><span>E-MAIL</span>school@visionvillage.org</div>
                            <div class="info">경기도 용인시 처인구 양지면 추계로 62</div>
                        </div>

                        <div class="copyright">Copyright © 2024 Acts29비전빌리지/Acts29Visionvillage Allright reserved</div>
                    </div>
                </div>
            </div>
        </footer>
    </section> 

    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const allAgreeCheckbox = document.getElementById('all-agree');
            const individualAgreeCheckboxes = document.querySelectorAll('.individual-agree');
            const nextBtn = document.getElementById('next-btn');
            const nextBtnSecond = document.getElementById('next-btn-second');
            const tabs = document.querySelectorAll('.tab-titles li'); // 탭 버튼
            const tabPanes = document.querySelectorAll('.tab-pane'); // 탭 내용
            const personalInfoForm = document.getElementById('personal-info-form');
            const formFields = personalInfoForm.querySelectorAll('input');
            
            // 첫 번째 탭: 이용약관 동의 체크박스 상태에 따라 '다음' 버튼 활성화/비활성화
            allAgreeCheckbox.addEventListener('change', function() {
                individualAgreeCheckboxes.forEach(function(checkbox) {
                    checkbox.checked = allAgreeCheckbox.checked;
                });
                toggleNextButton();
            });
    
            individualAgreeCheckboxes.forEach(function(checkbox) {
                checkbox.addEventListener('change', toggleNextButton);
            });
    
            function toggleNextButton() {
                const allChecked = Array.from(individualAgreeCheckboxes).every(checkbox => checkbox.checked);
                if (allChecked) {
                    nextBtn.disabled = false; // '다음' 버튼 활성화
                } else {
                    nextBtn.disabled = true; // '다음' 버튼 비활성화
                }
            }
    
            // 첫 번째 탭: '다음' 버튼 클릭 시 두 번째 탭으로 이동
            nextBtn.addEventListener('click', function() {
                tabPanes[0].classList.remove('active');
                tabPanes[1].classList.add('active');
                tabs[1].classList.add('active');
            });
    
            // 두 번째 탭: 개인 정보 입력이 완료되면 '다음' 버튼 활성화
            formFields.forEach(function(field) {
                field.addEventListener('input', toggleNextButtonSecond);
            });
    
            function toggleNextButtonSecond() {
                const allFilled = Array.from(formFields).every(function(field) {
                    return field.value.trim() !== ''; // 모든 입력 필드가 비어있지 않으면
                });
    
                if (allFilled) {
                    nextBtnSecond.disabled = false; // '다음' 버튼 활성화
                } else {
                    nextBtnSecond.disabled = true; // '다음' 버튼 비활성화
                }
            }
    
            // 두 번째 탭: '다음' 버튼 클릭 시 세 번째 탭으로 이동
            // nextBtnSecond.addEventListener('click', function() {
            //     tabPanes[1].classList.remove('active');
            //     tabPanes[2].classList.add('active');
            //     tabs[2].classList.add('active');
            // });
    
            // 두번째 탭 시작
            document.getElementById('editButton').addEventListener('click', function() {
                document.getElementById('fileInput').click(); // 파일 입력 클릭
            });
    
            document.getElementById('fileInput').addEventListener('change', function(event) {
                const file = event.target.files[0]; // 선택된 파일
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.querySelector('.my_img > img').src = e.target.result;
                    }
                    reader.readAsDataURL(file); // 파일을 데이터 URL로 읽기
                }
            });
    
            // 2. 항목별 형식검사
            document.getElementById('next-btn-second').addEventListener('click', function(event) {
                event.preventDefault(); // 폼의 기본 동작을 막고, 직접 유효성 검사 진행
    
                let email = document.getElementById('email').value;
                let password = document.getElementById('password').value;
                let passwordConfirm = document.getElementById('password_confirm').value;
                let errorMessage = "";
    
                // 이메일 형식 검사
                let emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                if (!emailRegex.test(email)) {
                    errorMessage += "이메일 형식이 잘못되었습니다.\n";
                }
    
                // 비밀번호 유효성 검사
                let passwordRegex = /^(?=.*[!@#$%^&*])[A-Za-z0-9!@#$%^&*]{8,}$/;
                if (!passwordRegex.test(password)) {
                    errorMessage += "비밀번호는 특수문자를 포함한 8자리 이상이어야 합니다.\n";
                }
    
                // 비밀번호 확인 검사
                if (password !== passwordConfirm) {
                    errorMessage += "비밀번호와 비밀번호 확인이 일치하지 않습니다.\n";
                }
    
                // 오류 메시지 표시
                if (errorMessage !== "") {
                    alert(errorMessage);
                } else {
                    // 유효성 검사 통과 시 폼 제출
                    document.getElementById('personal-info-form').submit();
                }
            });
    
            // 전화번호 포맷
            document.getElementById('phone').addEventListener('input', function(event) {
                let phone = event.target.value;
                phone = phone.replace(/[^\d]/g, ''); // 숫자만 남기고 다른 문자는 제거
    
                // 전화번호 포맷: 010-1234-5678
                if (phone.length <= 3) {
                    phone = phone.replace(/(\d{1,3})/, '$1');
                } else if (phone.length <= 7) {
                    phone = phone.replace(/(\d{3})(\d{1,4})/, '$1-$2');
                } else {
                    phone = phone.replace(/(\d{3})(\d{4})(\d{1,4})/, '$1-$2-$3');
                }
    
                event.target.value = phone;
            });
    
    
            // 생년월일 셀렉트 박스
            const birthYearEl = document.querySelector('#birth-year');
            const birthMonthEl = document.querySelector('#birth-month');
            const birthDayEl = document.querySelector('#birth-day');
    
            // 옵션 목록을 생성하는 함수
            const createOptions = (el, start, end, formatter) => {
                for (let i = start; i <= end; i++) {
                    const option = document.createElement('option');
                    option.setAttribute('value', i);
                    option.innerText = formatter ? formatter(i) : i;
                    el.appendChild(option);
                }
            };
    
            // 생년월일 셀렉트 박스 초기화
            createOptions(birthYearEl, 1940, 2022);
            createOptions(birthMonthEl, 1, 12, i => (i < 10 ? `0${i}` : i)); // 두 자릿수로 표시
            createOptions(birthDayEl, 1, 31, i => (i < 10 ? `0${i}` : i)); // 두 자릿수로 표시
    
            // 월 변경 시 일수 조정
            birthYearEl.addEventListener('change', updateDays);
            birthMonthEl.addEventListener('change', updateDays);
    
            function updateDays() {
                const selectedYear = birthYearEl.value;
                const selectedMonth = birthMonthEl.value;
                const daysInMonth = new Date(selectedYear, selectedMonth, 0).getDate();
    
                // 기존 옵션 제거 후 새로운 일 옵션 추가
                birthDayEl.innerHTML = '';
                createOptions(birthDayEl, 1, daysInMonth, i => (i < 10 ? `0${i}` : i));
            }
            
            // 우편번호 검색 기능
            const elZonecode = document.querySelector("#zonecode");
            const elRoadAddress = document.querySelector("#roadAddress");
            const elRoadAddressDetail = document.querySelector("#roadAddressDetail");
    
            const onClickSearch = () => {
                new daum.Postcode({
                    oncomplete: function (data) {
                        elZonecode.setAttribute("value", data.zonecode);
                        elRoadAddress.setAttribute("value", data.address);
                    },
                }).open();
            };
    
            const register = () => {
                console.log(`우편번호: ${elZonecode.value}`);
                console.log(`주소: ${elRoadAddress.value}`);
                console.log(`상세주소: ${elRoadAddressDetail.value}`);
            };
    
            document.querySelector("#search-btn").addEventListener("click", onClickSearch);
            document.querySelector("#register-btn").addEventListener("click", register);




        });
    </script>

    <script src="js/script.js"></script>
</body>
</html>